
<form novalidate [formGroup]="user" (ngSubmit)="saveData(user)">

  <div class="form-group" [ngClass]="{'has-danger': !user.get('name').touched && 
                                                     user.get('name').hasError('required') }">
    <label class="col-form-label">Nombre:</label>
    <input type="text" 
            name="name"
            formControlName="name" 
            class="form-control" required/>
    <div *ngIf="formTools.mustShowErrors('name').required"
    class="form-control-feedback">Este campo es requerido.</div>
  </div>

  <div class="form-group" [ngClass]="{'has-danger': !user.get('surname').touched && 
                                                     user.get('surname').hasError('required') }">
    <label class="col-form-label">Apellidos:</label>
    <input type="text" 
            name="surname" 
            formControlName="surname"
            class="form-control" required/>
    <div *ngIf="formTools.mustShowErrors('surname').required"
    class="form-control-feedback">Este campo es requerido.</div>
  </div>

  <div class="form-group" [ngClass]="{'has-danger': !user.get('email').touched && 
                                                     user.get('email').hasError('required') }">
    <label class="col-form-label">Correo Electr√≥nico:</label>
    <input type="email" 
            name="email"
            formControlName="email" 
            class="form-control" required/>
    <div *ngIf="formTools.mustShowErrors('email').required"
    class="form-control-feedback">Este campo es requerido.</div>
    <div *ngIf="formTools.mustShowErrors('email').pattern"
    class="form-control-feedback">El email no es valido</div>
  </div>

  <div class="form-group" [ngClass]="{'has-danger': !user.get('password').touched && 
                                                     user.get('password').hasError('required') || 
                                                     user.get('password').hasError('minlength') }">
    <label class="col-form-label">Password:</label>
    <input type="password" 
          name="password"
          formControlName="password" 
          class="form-control" required/>
    <div *ngIf="formTools.mustShowErrors('password').required"
    class="form-control-feedback">Este campo es requerido.</div>
    <div *ngIf="formTools.mustShowErrors('password').minLength"
    class="form-control-feedback">Este campo tiene que tener 3 caracteres como minimo.</div>
  </div>

  <div class="form-group" [ngClass]="{'has-danger': !user.get('checkPassword').touched && 
                                                     user.get('checkPassword').hasError('required') }">
    <label class="col-form-label">Escribe de nuevo el password:</label>
    <input type="password" 
          name="checkPassword"
          formControlName="checkPassword" 
          class="form-control" required/>
    <div class="error" *ngIf="user.touched && user.hasError('nomatch')">
      Los passwords no coinciden.
    </div>
  </div>

  <div class="form-group row">
    <label class="col-form-label">&nbsp;</label>
    <div class="input-group col-md-8">
      <button [disabled]="user.invalid" type="submit" class="btn btn-outline-primary">
        Guardar
      </button>
    </div>
  </div>

</form>